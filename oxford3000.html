<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oxford 3000</title>
    <style>
        body {
        background-color: black;
        color: white;

    }

    .popup-body {
        margin-left: 10px;
        font-weight: lighter;

    }

    .popup-heading {
        font-weight: bolder;

    }

   

    #popupArrow {
        position: absolute;
        width: 0;
        height: 0;
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-bottom: 8px solid darkgray;
        display: none;
    }




    .hidden {
        display: none;
    }


    

    .highlight {
        background-color: yellow;
    }

    
    #popupBox{
        position: absolute;
        background-color: darkgray;
        max-width: 2000px;
        border-radius: 5%;
        padding-top: 5px;
        padding-left: 10px;
        padding-right: 10px;
        padding-bottom: 15px;
        display: none;
    }
    
    header a{ 
    margin: 10px;
    text-decoration: none;
    color: lightblue;
}

.pronounce-sentence-btn{
    margin: 10px;
}
.conversation{
    border: 1px solid white;
    text-align: center;
}
button{
    display: inline;
    user-select: none;
}
.pronouncable-sentence{
    display: inline;
}

*{
    margin-top: 0;
    margin-right: 0;
    margin-bottom: 0;
    margin-left: 5px;
    box-sizing: border-box;
}
.example, .example-translation{
    margin-left: 40px;
    margin-bottom: 0;
}
.example{
    margin-bottom: 50px;
}
.example-translation{
    color: gray;
}
h3{
    color: green;
    margin-bottom: 30px;
}
    </style>
</head>
<body>
    <header>
        <a href="alphabet.html">Ø¯Ø±Ø³ Ø§Ù„Ø­Ø±ÙˆÙ ÙˆØ§Ù„Ù‡Ø¬Ø§Ø¡</a>
        <a href="airport.html"> ÙÙŠ Ø§Ù„Ù…Ø·Ø§Ø± </a>
        <a href="health_problems.html"> Ø§Ù„ØµØ­Ø©  </a>
        <a href="directions.html"> Ø§Ù„Ø§ØªØ¬Ø§Ù‡Ø§Øª  </a>
        <a href="do_are.html"> are/do  </a>
        <a href="oxford3000.html"> Oxford 3000  </a>
    </header>
    <br>
    <br>
    
    <div id="l1" class="todays-lesson">

    </div>
    
    <div id="popupArrow"></div>
        <div id="popupBox" dir="auto"></div>
        <script>
            const l1 = document.getElementById("l1")
            
/* 
            a indefinite article
I can only carry two at a time.

There's a visitor for you.
He's a teacher.
a knife and fork
SYNONYM per
They cost 50p a kilo.
I can type 50 words a minute.
He was driving at 50 miles an hour.

about adverb
SYNONYM approximately
It costs about $10.
They waited (for) about an hour.
He arrived (at) about ten.

about preposition
The book is about homeless people in the cities.
What was all that about? (= what was the reason for what has just happened?)
How about Ruth? Have you heard from her?
I'm having fish. What about you?


above adverb
70 or above
above preposition
We were flying above the clouds.


She's not above lying when it suits her.
He's above suspicion (= he is completely trusted).
Idioms
above all
â€‹most important of all; especially
Above all, keep in touch.


*/
            const data = {
                "a":{
                    "translation":"Ø£Ø¯Ø§Ø© Ù„Ù„ØªÙ†ÙƒÙŠØ±ØŒ ÙŠÙ‚Ø§Ø¨Ù„Ù‡Ø§ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„ØªÙ†ÙˆÙŠÙ†",
                    "examples":["a student", "a teacher", "There's a visitor", "a knife and fork"],
                    "examplesToAr":["Ø·Ø§Ù„Ø¨ÙŒ", "Ù…Ø¹Ù„Ù…ÙŒ", "Ù‡Ù†Ø§Ùƒ Ø²Ø§Ø¦Ø±ÙŒ", "Ø³ÙƒÙŠÙ†Ø© ÙˆØ´ÙˆÙƒØ©"]
                },
                "about":{
                    "translation":" Ø­ÙˆØ§Ù„ÙŠ Ø£Ùˆ Ø¹Ù†",
                    "examples":["It costs about 10 $", "They waited (for) about an hour","He arrived (at) about ten.", "Are you talking about residence permit?", "What are you talking about?", "Yes, I am talking about residence permit"],
                    "examplesToAr":["Ù‡ÙŠ ØªÙƒÙ„Ù Ø­ÙˆØ§Ù„ÙŠ Ù¡Ù  Ø¯ÙˆÙ„Ø§Ø±", "Ù‡Ù… Ø§Ù†ØªØ¸Ø±ÙˆØ§ (Ù„Ù€) Ø­ÙˆØ§Ù„ÙŠ Ø³Ø§Ø¹Ø©Ù‹", "Ù‡Ùˆ ÙˆØµÙ„ Ø­ÙˆØ§Ù„ÙŠ (Ø¨Ù€) Ø§Ù„Ø¹Ø§Ø´Ø±Ø©", "Ø¹Ù… ØªØªØ­Ø¯Ø« Ø¹Ù† ØªØµØ±ÙŠØ­ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©ØŸ", "Ù…Ø§Ø°Ø§ ØªØªØ­Ø¯Ø« Ø¹Ù†ØŸ", "Ù†Ø¹Ù…ØŒ Ø£Ù†Ø§ Ø£ØªØ­Ø¯Ø« Ø¹Ù† ØªØµØ±ÙŠØ­ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©"]
                },
                "above":{
                    "translation":"ÙÙˆÙ‚",
                    "examples":["70 or above.", "We were flying above the clouds.", "Your health is above everything.",],
                    "examplesToAr": ["Ø³Ø¨Ø¹ÙŠÙ† Ø£Ùˆ ÙÙˆÙ‚", "Ù†Ø­Ù† ÙƒÙ†Ø§ Ù†Ø·ÙŠØ± ÙÙˆÙ‚ Ø§Ù„ØºÙŠÙˆÙ…", "ØµØ­ØªÙƒ ÙÙˆÙ‚ ÙƒÙ„ Ø´ÙŠØ¡",]
                },
                
                
                "action":{
                    "translation": "ÙØ¹Ù„",
                    "examples":["Actions speak louder than words",],
                    "examplesToAr":["Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø£Ø¹Ù„Ù‰ ØµÙˆØªØ§ Ù…Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª"]
                },
                "active":{
                    "translation": "ÙØ¹Ù„",
                    "examples":["He is an active person"],
                    "examplesToAr":[" Ù‡Ùˆ Ø´Ø®ØµÙŒ Ù†Ø´Ø·"]
                },
                "actor":{
                    "translation": "Ù…Ù…Ø«Ù„ Ø£Ùˆ ÙØ§Ø¹Ù„ (Ø­Ø³Ø¨ Ø§Ù„Ø³ÙŠØ§Ù‚)",
                    "examples":[],
                    "examplesToAr":[]
                },
                "actress":{
                    "translation": "Ù…Ù…Ø«Ù„Ø© Ø£Ùˆ ÙØ§Ø¹Ù„Ø© (Ø­Ø³Ø¨ Ø§Ù„Ø³ÙŠØ§Ù‚)",
                    "examples":[],
                    "examplesToAr":[]
                },
            }
            const explainWordObj = {
                "actions":"Ø£ÙØ¹Ø§Ù„",
                "action":"ÙØ¹Ù„",
                "Actions":"Ø£ÙØ¹Ø§Ù„",
                "speak":"ÙŠØªÙƒÙ„Ù…",
                "louder":"Ø£Ø¹Ù„Ù‰ ØµÙˆØªØ§",
                "than":"Ù…Ù†",
                "words":"ÙƒÙ„Ù…Ø§Øª",
                "active":"Ù†Ø´Ø·",
                "He":"Ù‡Ùˆ",
                "is":"",
                "an":" ØªÙ†ÙˆÙŠÙ† Ù€ÙŒ",
                "a":" ØªÙ†ÙˆÙŠÙ† Ù€ÙŒ",
                "person":"Ø´Ø®ØµÙŒ",
                "actor":"Ù…Ù…Ø«Ù„ Ø£Ùˆ ÙØ§Ø¹Ù„ (Ø­Ø³Ø¨ Ø§Ù„Ø³ÙŠØ§Ù‚)",
                "actress":"Ù…Ù…Ø«Ù„Ø© Ø£Ùˆ ÙØ§Ø¹Ù„Ø© (Ø­Ø³Ø¨ Ø§Ù„Ø³ÙŠØ§Ù‚)",
                "student":"Ø·Ø§Ù„Ø¨",
                "teacher":"Ù…Ø¹Ù„Ù…",
                "There's":"ÙŠÙˆØ¬Ø¯ Ø£Ùˆ Ù‡Ù†Ø§Ùƒ",
                "visitor": "visit ÙŠØ²ÙˆØ± \nvisitor Ø²Ø§Ø¦Ø±",
                "knife":"Ø³ÙƒÙŠÙ†Ø©",
                "fork":"Ø´ÙˆÙƒØ©",
                "It":"Ù‡ÙŠ Ø£Ùˆ Ù‡Ùˆ Ù„ØºÙŠØ± Ø§Ù„Ø¹Ø§Ù‚Ù„",
                "costs":"ØªÙƒÙ„Ù",
                "for":"Ù„Ù€",
                "(for)":"(Ù„Ù€)",
                "They":"Ù‡Ù…",
                "waited":"wait ÙŠÙ†ØªØ¸Ø± \n ed Ù…Ø´Ø§Ù† ØªØµÙŠØ± Ù…Ø§Ø¶ÙŠ \nwaited  Ø§Ù†ØªØ¸Ø± \n",
                "about":"Ø¹Ù† Ø£Ùˆ Ø­ÙˆØ§Ù„ÙŠ",
                "hour":"Ø³Ø§Ø¹Ø©",
                "arrived": "ÙˆØµÙ„",
                "(at)": "(Ø¨Ù€)",
                "ten":"Ø¹Ø´Ø±Ø©",
                "Are":"Ø¹Ù…",
                "you":"Ø£Ù†Øª Ø£Ùˆ Ø£Ù†ØªÙ…",
                "talking":"ØªØªØ­Ø¯Ø«",
                "residence":"Ø¥Ù‚Ø§Ù…Ø©",
                "permit?":"ØªØµØ±ÙŠØ­ØŸ",
                "What":"Ù…Ø§Ø°Ø§/Ø´Ùˆ",
                "Yes,":"Ù†Ø¹Ù…ØŒ",
                "I":"Ø£Ù†Ø§",
                "am":" I ØªØ¬ÙŠ Ù…Ø¹ ",
                "or":"Ø£Ùˆ",
                "above":"ÙÙˆÙ‚",
                "above.":"ÙÙˆÙ‚",
                "We":"Ù†Ø­Ù†",
                "were":"ÙƒÙ†Ø§/ÙƒØ§Ù†",
                "flying":"Ù†Ø·ÙŠØ±",
                "the":"Ø§Ù„Ù€",
                "clouds.":"Ø§Ù„ØºÙŠÙˆÙ….",
                "Your":"Ù€Ùƒ\n your health ØµØ­ØªÙƒ",
                "health":"ØµØ­Ø©",
                "everything.":"ÙƒÙ„ Ø´ÙŠØ¡",
            }
            
            const startIndex = 2;
            const keys = Object.keys(data);
for (let i = startIndex; i < startIndex + 1; i++) {
  if (data.hasOwnProperty(keys[i])) {
    const key = keys[i];
    const wordTranslation = data[key].translation;
    const examples = data[key].examples; //returns an array
    const examplesToAr = data[key].examplesToAr; //returns an array

    // Create the HTML structure for each entry
    const entryDiv = document.createElement("div");

    // Add the word and translation
    entryDiv.innerHTML = `
      <h3><span class="word">${key}</span> <span class="word-translation">${wordTranslation}</span> </h3>
    `;

    // Add examples and corresponding translations
    for (let i = 0; i < examplesToAr.length; i++) {
       entryDiv.innerHTML += `
        <p class="example-translation">${examplesToAr[i]}</p>
        <p class="example">${examples[i].split(" ").map(word => `<span class="word">${word}</span>`).join(" ")}</p>
      `;

    }

    // Append the entryDiv to the container
    l1.appendChild(entryDiv);
  }
}

            
        const pronouncables = document.querySelectorAll(".word");
            const popupBox = document.getElementById("popupBox");
            const popupArrow = document.getElementById("popupArrow");
            //const sentenceContainer = document.getElementById("sentence-container");
    
            for (let i = 0; i < pronouncables.length; i++) {
                pronouncables[i].addEventListener("click", explainWord);
            }
    
            function explainWord(wordEvent) {
                wordEvent.stopPropagation();
                popupBox.innerText = "";
                popupBox.style.display = "block";
                popupArrow.style.display = "block";
    
                const popupHeading = document.createElement("span");
                popupHeading.classList.add("popup-heading")
                popupHeading.innerText = wordEvent.target.innerText + " " + "ğŸ”Š";
                popupBox.append(popupHeading);
    
                const speech = new SpeechSynthesisUtterance();
                speech.text = wordEvent.target.innerText;
                speechSynthesis.speak(speech);
    
                popupHeading.addEventListener("click", function (e) {
                    e.stopPropagation();
                    const speech = new SpeechSynthesisUtterance();
                    speech.text = wordEvent.target.innerText;
                    speechSynthesis.speak(speech);
                });
    
                const popupBody = document.createElement("div");
                popupBody.classList.add("popup-body")
                popupBody.innerText = explainWordObj[wordEvent.target.innerText.trim()] || "---";
                popupBox.append(popupBody);
    
    
                const rect = wordEvent.currentTarget.getBoundingClientRect();
                const rectOfPopup = popupBox.getBoundingClientRect();
                const middleOfWordCoord = rect.left + rect.width / 2;
    
                
                /////////////////////////
                const popupLeftEdge = rectOfPopup.left;
                const popupRightEdge = rectOfPopup.right;
                const xOfLeftBorderOfPopup = middleOfWordCoord - rectOfPopup.width / 2 - 2;
                if (xOfLeftBorderOfPopup < 0) {
                    popupArrow.style.left = middleOfWordCoord - 8 + "px"
                    popupArrow.style.top = rect.bottom + 7 + "px";
                    popupBox.style.top = rect.bottom + 15 + "px";
    
                    popupBox.style.left = 0; 
                } else if (popupRightEdge > window.innerWidth) {
                    popupArrow.style.left = middleOfWordCoord - 8 + "px"
                    popupArrow.style.top = rect.bottom + 7 + "px";
                    popupBox.style.top = rect.bottom + 15 + "px";
    
                    popupBox.style.right = window.innerWidth;
                }else{
                    popupArrow.style.left = middleOfWordCoord - 8 + "px"
                    popupArrow.style.top = rect.bottom + 7 + "px";
                    popupBox.style.left = middleOfWordCoord - rectOfPopup.width / 2 - 2 + "px";
                    popupBox.style.top = rect.bottom + 15 + "px";
                }
                //////////////////////////
                document.addEventListener("click", closePopupOnClickOutside);
            }
    
    
            function closePopupOnClickOutside(e) {
                if (!e.target.classList.contains("pronouncable") && e.target.id !== "popupBox") {
                    popupBox.style.display = "none";
                    popupArrow.style.display = "none";
                    document.removeEventListener("click", closePopupOnClickOutside);
                }
            }
            const pronounceBtns = document.getElementsByClassName("pronounce-sentence-btn")
            for (let i = 0; i < pronounceBtns.length; i++) {
                pronounceBtns[i].addEventListener("click", (e) => {
                    const speech = new SpeechSynthesisUtterance();
                    speech.text = e.target.nextElementSibling.innerText.trim();
                    speechSynthesis.speak(speech);
                })
            }
    
    
    
    
        </script>
</body>


</html>