<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script type="module">
      import { quranwords } from "/data.js";

      const arLetters = "جحخهعغفقثصضكمنتلبسشرزدذطظ";
      const illaLetters = "اإأآىةيوؤئء";
      const illTrioStr = "اوي";
      const illTrioArr = ["ا", "و", "ي"];

    
        function isPresent(searchInput, text) {
        // remove diacritics
        const searchInputArr = searchInput.split("").filter( (element) => arLetters.includes(element) || illaLetters.includes(element) );
        
        for (let i = 0; i < searchInputArr.length; i++) {
          if (!text.toString().includes(searchInputArr[i])) {
            return false;
          }
        }

        return true;
        
      }

      console.log( isPresent("صوم", "صائمون") )
    

      function isPresentAndSameOrder(searchInput, text) {
        // Remove diacritics
        const searchInputArr = searchInput
          .split("")
          .filter(
            (element) =>
              arLetters.includes(element) || illaLetters.includes(element)
          );
        let textIndex = 0;

        for (let i = 0; i < searchInputArr.length; i++) {
          textIndex = text.toString().indexOf(searchInputArr[i], textIndex);

          if (textIndex === -1) {
            return false;
          }

          textIndex++;
        }

        return true;
      }

      const matchesSet = new Set();
      const matchesArr = [];
      for (let i = 0; i < quranwords.length; i++) {
        if (isPresentAndSameOrder("شرك", quranwords[i])) {
          matchesSet.add(quranwords[i]);
          matchesArr.push(quranwords[i]);
        }
      }
      console.log(matchesSet);
      console.log(matchesArr);

      const replacementMap = {
        ا: ["و", "ي"],
        و: ["ا", "ي"],
        ي: ["ا", "و"],
      };





      /*
          if( searchInputArr.includes("ي")  && searchInputArr.every(item => !["ا","و"].includes(item)) ){
              const searchInputArrWithAleph1 = searchInputArr.map(element => element == "ي" ? "ا" : element)
                  const searchInputArrWithWa2 = searchInputArr.map(element => element == "ي" ? "و" : element)
                  console.log(searchInputArrWithAleph1)
                  console.log(searchInputArrWithWa2)
          }
  
          if( searchInputArr.includes("و") && searchInputArr.every(item => !["ا","ي"].includes(item)) ){
              const searchInputArrWithAleph1 = searchInputArr.map(element => element == "و" ? "ا" : element)
                  const searchInputArrWithWa2 = searchInputArr.map(element => element == "و" ? "ي" : element)
                  console.log(searchInputArrWithAleph1)
                  console.log(searchInputArrWithWa2)
          }
  
          if( searchInputArr.includes("ا") && searchInputArr.every(item => !["و","ي"].includes(item)) ){
              const searchInputArrWithAleph1 = searchInputArr.map(element => element == "ا" ? "و" : element)
                  const searchInputArrWithWa2 = searchInputArr.map(element => element == "ا" ? "ي" : element)
                  console.log(searchInputArrWithAleph1)
                  console.log(searchInputArrWithWa2)
          }
          //////////////////
          if( searchInputArr.includes("ي") && searchInputArr.includes("و") ){
                  const searchInputArrWithAleph1 = searchInputArr.map(element => element == "ي" ? "ا" : element)
                  const searchInputArrWithWa2 = searchInputArr.map(element => element == "و" ? "ا" : element)
                  console.log(searchInputArrWithAleph1)
                  console.log(searchInputArrWithWa2)
          }
  
          if( searchInputArr.includes("ا") && searchInputArr.includes("و") ){
                  const searchInputArrWithAleph1 = searchInputArr.map(element => element == "ا" ? "ي" : element)
                  const searchInputArrWithWa2 = searchInputArr.map(element => element == "و" ? "ي" : element)
                  console.log(searchInputArrWithAleph1)
                  console.log(searchInputArrWithWa2)
          }
  
          if( searchInputArr.includes("ي") && searchInputArr.includes("ا") ){
                  const searchInputArrWithAleph1 = searchInputArr.map(element => element == "ي" ? "و" : element)
                  const searchInputArrWithWa2 = searchInputArr.map(element => element == "ا" ? "و" : element)
                  console.log(searchInputArrWithAleph1)
                  console.log(searchInputArrWithWa2)
          }
          //////////////////
           */

      //console.log(rootToSearch.split("").filter((element) => arLetters.includes(element) || illaLetters.includes(element)))

      const uniqueSet = new Set(quranwords);
        
      // Convert the Set back to an array
      const quranSet = Array.from(uniqueSet);
      const quran_set_no_numbers = quran_set.filter(item => typeof item !== 'number' && item !== '~');

      
    </script>
  </body>
</html>
